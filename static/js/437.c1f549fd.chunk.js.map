{"version":3,"file":"static/js/437.c1f549fd.chunk.js","mappings":"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","sources":["components/Api.js","components/SearchMovies/Moviesitems.js","components/SearchMovies/MoviesList.js","components/SearchMovies/Search.js","components/SearchMovies/Button.js","components/SearchMovies/SearchMovies.js","components/pages/movies/Movies.js"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'd649a357c5752881ce25a153e1a07557',\n  },\n});\n\nexport const searchMovies = async (name, page) => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query: name,\n      page,\n      include_adult: 'false',\n      language: 'en-US',\n    },\n  });\n  return data;\n};\n\nexport const trendingFilms = async () => {\n  const { data } = await instance.get('/trending/movie/day');\n  return data;\n};\n\nexport const movieDetails = async (id) => {\n  const {data} = await instance.get (`/movie/${id}`);\n  return data;\n}\n\nexport const movieCredits = async (id) => {\n  const {data} = await instance.get (`/movie/${id}/credits`);\n  return data;\n}\n\nexport const movieReviews= async (id) => {\n  const {data} = await instance.get (`/movie/${id}/reviews`);\n  return data.results;\n}","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './SearchMovies.module.css';\n\nconst MoviesItems = ({ movies }) => {\n\n  const location = useLocation();\n  return movies.map(({ id, name, title }) => {\n    return (\n      <Link className={css.link} key={id} to={`/movies/${id}`} state={{from: location}}>\n        <li className={css.movieList} >\n          <h2 className={css.title}>{name || title}</h2>\n        </li>\n      </Link>\n    );\n  });\n};\n\nexport default MoviesItems;\n","\nimport React from 'react';\nimport css from './SearchMovies.module.css';\nimport { memo } from 'react';\n\n\nimport MoviesItems from './Moviesitems';\n\nconst MoviesList = ({ movies }) => {\n\n    return (\n      <div className={css.Searchbar}>\n        <ul className={css.movies}>\n          <MoviesItems movies={movies} />\n        </ul>\n      </div>\n    );\n};\n\nexport default memo(MoviesList);","import { useState} from 'react';\nimport css from './SearchMovies.module.css';\nimport {ImSearch} from 'react-icons/im';\n\nfunction Searchbar ({onSubmit}) {\n const [search, setSearch] = useState('')\n\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  if(search.trim() === '') {\n    return alert(\"Введіть назву картинки для пошуку\")\n  }\n  onSubmit(search);\n  setSearch('')\n}\n\n return (\n  <form onSubmit={handleSubmit} className={css.SearchForm}>\n    <button type=\"submit\" className={css.SearchFormButton}>\n      <span className={css.SearchFormLabel}>\n        <ImSearch/>\n      </span>\n    </button>\n    <input\n      value={search}\n      className={css.SearchFormInput}\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n      onChange={(e) => setSearch(e.target.value)}\n      name='input'\n    />\n  </form>\n\n )\n }\n\n\nexport default Searchbar;\n","import React from 'react';\nimport css from './SearchMovies.module.css';\n\nconst Button = ({ loader }) => {\n  return (\n    <button className={css.Button} onClick={() => loader()}>\n      Loder more\n    </button>\n  );\n};\n\nexport default Button;","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from 'components/Api';\nimport css from './SearchMovies.module.css';\n\nimport Searchbar from './Search';\nimport MoviesList from './MoviesList';\nimport Loader from './Loader';\nimport Button from './Button';\n\nfunction SearckMovies() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  // const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [isNothing, setIsNothing] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  console.log(page);\n  const loaderMore = () => {\n    setSearchParams({ search, page: Number(page) + 1 });\n  };\n\n  const searchInput = searchMovies => {\n    if (search === searchMovies) {\n      return;\n    }\n    setSearchParams({ search: searchMovies, page: 1 });\n\n    setMovies([]);\n  };\n\n  useEffect(() => {\n    if (search) {\n      const fetchPosts = async () => {\n        try {\n          setLoading(true);\n          const data = await searchMovies(search, page);\n\n          setMovies(movies => [...movies, ...data.results]);\n          setTotal(data.total_results);\n          setIsNothing(true);\n\n          console.log(data);\n        } catch (error) {\n          setError(error.message);\n        } finally {\n          setLoading(false);\n        }\n      };\n\n      fetchPosts();\n    }\n  }, [search, page]);\n\n  const totalPage = Math.floor(total / 20);\n  console.log(totalPage);\n  return (\n    <div className={css.Searchbar}>\n      <Searchbar onSubmit={searchInput} />\n      <MoviesList movies={movies} />\n      {total === 0 && isNothing && (\n        <>\n          <h2 className={css.message}>За вашим запитом нічого не знайдено</h2>\n          <img\n            src=\"https://i.gifer.com/GT4C.gif\"\n            alt=\"nothing\"\n            className={css.gif}\n          />\n        </>\n      )}\n      {error && <h2 className={css.title}>{error}</h2>}\n      {loading && <Loader text=\"Loading...\" />}\n\n      {movies.length > 0 && page < totalPage && (\n        <Button loader={loaderMore} type=\"button\" />\n      )}\n    </div>\n  );\n}\n\nexport default SearckMovies;\n","import SearckMovies from 'components/SearchMovies/SearchMovies'\n\nconst Movies = () => {\n  return <SearckMovies/>\n}\n\nexport default Movies"],"names":["instance","axios","baseURL","params","api_key","searchMovies","name","page","get","query","include_adult","language","data","trendingFilms","movieDetails","id","movieCredits","movieReviews","results","movies","location","useLocation","map","title","className","css","to","state","from","MoviesList","memo","onSubmit","useState","search","setSearch","e","preventDefault","trim","alert","type","value","autoComplete","autoFocus","placeholder","onChange","target","loader","onClick","setMovies","error","setError","loading","setLoading","total","setTotal","isNothing","setIsNothing","useSearchParams","searchParams","setSearchParams","console","log","useEffect","fetchPosts","total_results","message","totalPage","Math","floor","Search","src","alt","Loader","text","length","Number"],"sourceRoot":""}
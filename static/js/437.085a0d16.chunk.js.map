{"version":3,"file":"static/js/437.085a0d16.chunk.js","mappings":"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","sources":["components/Api.js","components/SearchMovies/Moviesitems.js","components/SearchMovies/MoviesList.js","components/SearchMovies/Search.js","components/SearchMovies/Button.js","components/SearchMovies/SearchMovies.js","components/pages/movies/Movies.js"],"sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'd649a357c5752881ce25a153e1a07557',\n  },\n});\n\nexport const searchMovies = async (name, page) => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query: name,\n      page,\n      include_adult: 'false',\n      language: 'en-US',\n    },\n  });\n  return data;\n};\n\nexport const trendingFilms = async () => {\n  const { data } = await instance.get('/trending/movie/day');\n  return data;\n};\n\nexport const movieDetails = async (id) => {\n  const {data} = await instance.get (`/movie/${id}`);\n  return data;\n}\n\nexport const movieCredits = async (id) => {\n  const {data} = await instance.get (`/movie/${id}/credits`);\n  return data;\n}\n\nexport const movieReviews= async (id) => {\n  const {data} = await instance.get (`/movie/${id}/reviews`);\n  return data.results;\n}","import {React, memo} from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport css from './SearchMovies.module.css';\n\nconst MoviesItems = ({ movies }) => {\n\n  const location = useLocation();\n  return movies.map(({ id, name, title }) => {\n    return (\n      <Link className={css.link} key={id} to={`/movies/${id}`} state={{from: location}}>\n        <li className={css.movieList} >\n          <h2 className={css.title}>{name || title}</h2>\n        </li>\n      </Link>\n    );\n  });\n};\n\nexport default memo(MoviesItems);\n","\nimport React from 'react';\nimport css from './SearchMovies.module.css';\nimport { memo } from 'react';\n\n\nimport MoviesItems from './Moviesitems';\n\nconst MoviesList = ({ movies }) => {\n\n    return (\n      <div className={css.Searchbar}>\n        <ul className={css.movies}>\n          <MoviesItems movies={movies} />\n        </ul>\n      </div>\n    );\n};\n\nexport default memo(MoviesList);","import { useState} from 'react';\nimport css from './SearchMovies.module.css';\nimport {ImSearch} from 'react-icons/im';\n\nfunction Searchbar ({onSubmit}) {\n const [search, setSearch] = useState('')\n\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  if(search.trim() === '') {\n    return alert(\"Введіть назву картинки для пошуку\")\n  }\n  onSubmit(search);\n  setSearch('')\n}\n\n return (\n  <form onSubmit={handleSubmit} className={css.SearchForm}>\n    <button type=\"submit\" className={css.SearchFormButton}>\n      <span className={css.SearchFormLabel}>\n        <ImSearch/>\n      </span>\n    </button>\n    <input\n      value={search}\n      className={css.SearchFormInput}\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search images and photos\"\n      onChange={(e) => setSearch(e.target.value)}\n      name='input'\n    />\n  </form>\n\n )\n }\n\n\nexport default Searchbar;\n","import React from 'react';\nimport css from './SearchMovies.module.css';\n\nconst Button = ({ loader }) => {\n  return (\n    <button className={css.Button} onClick={() => loader()}>\n      Loder more\n    </button>\n  );\n};\n\nexport default Button;","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { searchMovies } from 'components/Api';\nimport css from './SearchMovies.module.css';\n\nimport Searchbar from './Search';\nimport MoviesList from './MoviesList';\nimport Loader from './Loader';\nimport Button from './Button';\n\nfunction SearckMovies() {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  // const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [isNothing, setIsNothing] = useState(false);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  console.log(page);\n  const loaderMore = () => {\n    setSearchParams({ search, page: Number(page) + 1 });\n  };\n\n  const searchInput = searchMovies => {\n    if (search === searchMovies) {\n      return;\n    }\n    setSearchParams({ search: searchMovies, page: 1 });\n\n    setMovies([]);\n  };\n\n  useEffect(() => {\n\n    const fetchPosts = async () => {\n      try {\n        setLoading(true);\n        const data = await searchMovies(search, page);\n\n        setMovies(movies => [...movies, ...data.results]);\n        setTotal(data.total_results);\n        setIsNothing(true);\n\n        console.log(data);\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (search) {\n      fetchPosts();\n      document.querySelector('form').reset();\n    }\n  }, [search, page]);\n\n  const totalPage = Math.floor(total / 20);\n  console.log(totalPage);\n  return (\n    <div className={css.Searchbar}>\n      <Searchbar onSubmit={searchInput} />\n      <MoviesList movies={movies} />\n      {total === 0 && isNothing && (\n        <>\n          <h2 className={css.message}>За вашим запитом нічого не знайдено</h2>\n          <img\n            src=\"https://i.gifer.com/GT4C.gif\"\n            alt=\"nothing\"\n            className={css.gif}\n          />\n        </>\n      )}\n      {error && <h2 className={css.title}>{error}</h2>}\n      {loading && <Loader text=\"Loading...\" />}\n\n      {movies.length > 0 && page < totalPage && (\n        <Button loader={loaderMore} type=\"button\" />\n      )}\n    </div>\n  );\n}\n\nexport default SearckMovies;\n","import SearckMovies from 'components/SearchMovies/SearchMovies'\n\nconst Movies = () => {\n  return <SearckMovies/>\n}\n\nexport default Movies"],"names":["instance","axios","baseURL","params","api_key","searchMovies","name","page","get","query","include_adult","language","data","trendingFilms","movieDetails","id","movieCredits","movieReviews","results","MoviesItems","movies","location","useLocation","map","title","className","css","to","state","from","memo","MoviesList","onSubmit","useState","search","setSearch","e","preventDefault","trim","alert","type","value","autoComplete","autoFocus","placeholder","onChange","target","loader","onClick","setMovies","error","setError","loading","setLoading","total","setTotal","isNothing","setIsNothing","useSearchParams","searchParams","setSearchParams","console","log","useEffect","fetchPosts","total_results","message","document","querySelector","reset","totalPage","Math","floor","Search","src","alt","Loader","text","length","Number"],"sourceRoot":""}